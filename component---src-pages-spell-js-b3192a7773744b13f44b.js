(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{146:function(e,t,n){"use strict";n.r(t);var r=n(7),a=n.n(r),s=n(0),i=n.n(s),l=n(156),o=n(153),c=(n(173),n(34),n(157)),u=n.n(c),p=(n(155),n(158)),d=n.n(p),m=(n(75),n(36),n(210)),h=n.n(m),f=n(35),g=n.n(f),y=n(4),v=n.n(y),b=n(211),E=n.n(b),C=n(165),w=n(171),k=n(159),S=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),t.prototype.render=function(){var e=this.props,t=e.baseClass,n=e.children,r=e.title;return i.a.createElement("div",{className:t},i.a.createElement(k.a,{element:"h3",className:t+"-title"},r,":"),n&&1===n.length?i.a.createElement("p",{className:t+"-value"},n):i.a.Children.map(n,function(e){return i.a.createElement("p",{className:t+"-value"},e)}))},t}(s.Component);S.defaultProps={baseClass:"gr-info-item",title:"Title"};var N=S,R=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),t.prototype.render=function(){var e=this.props,t=e.baseClass,n=e.children;return i.a.createElement("div",{className:t},n)},t}(s.Component);R.defaultProps={baseClass:"gr-card"};var T=R,D=n(253),x=n.n(D),j=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),t.prototype.render=function(){var e=this.props,t=e.baseClass,n=e.children,r=e.modifier,a=r?t+"--"+r:null;return i.a.createElement("div",{className:x()(t,a)},n)},t}(s.Component);j.defaultProps={baseClass:"gr-section",modifierClass:null};var P=j,q=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),t.prototype.render=function(){var e=this.props,t=e.baseClass,n=e.children,r=e.element;return i.a.createElement(r,{className:t},n)},t}(s.Component);q.defaultProps={baseClass:"gr-flag",element:"p"};var z=q,L=function(e){function t(t){var n;return(n=e.call(this,t)||this).baseClass="gr-spell",n.spellId=t.location.search.replace("?id=",""),n.getSpellDetail=n.getSpellDetail.bind(g()(n)),n.renderList=n.renderList.bind(g()(n)),n.successResponse=n.successResponse.bind(g()(n)),n.failureResponse=n.failureResponse.bind(g()(n)),n.renderSection=n.renderSection.bind(g()(n)),n.renderDescriptions=n.renderDescriptions.bind(g()(n)),n.casting=[{title:"Casting Time",key:"casting_time"},{title:"Duration",key:"duration"}],n.classes=[{title:"Classes",key:"classes",func:n.renderList},{title:"Sub-Classes",key:"subclasses",func:n.renderList},{title:"School",key:"school.name"}],n.specs=[{title:"Components",key:"components",func:n.renderList},{title:"Range",key:"range"},{title:"Concentration",key:"concentration"},{title:"Ritual",key:"ritual"}],n.descriptions=[{title:"Description",key:"desc",prose:!0,func:n.renderDescriptions}],n.higherLevel=[{title:"Higher Levels",key:"higher_level",prose:!0,func:n.renderDescriptions}],n.state={loading:!0,error:null,spell:null},n}a()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=d()(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.state.spell||this.getSpellDetail();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),n.successResponse=function(e){this.setState(Object.assign({},e,{spell:e.body}))},n.failureResponse=function(e){this.setState(Object.assign({},e,{error:e.error}))},n.getSpellDetail=function(){var e=d()(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,Object(C.a)({url:this.props.api.spells+"/"+this.spellId},this.successResponse,this.failureResponse);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),n.renderSection=function(e){var t=this.state.spell;return i.a.createElement(P,null,e.map(function(e,n){return t[e.key]?e.func?i.a.createElement(N,{key:n,title:e.title},e.func(e.key)):i.a.createElement(N,{key:n,title:e.title},E()(t,e.key)):null}))},n.renderList=function(e){var t=this,n=this.state.spell;return n[e]?n[e].map(function(n,r){return i.a.createElement("span",{key:r,className:t.baseClass+"-"+e},n.name||n)}):null},n.renderDescriptions=function(e){var t=this.state.spell;return t[e]?t[e].map(function(e){return e}):null},n.render=function(){var e=this.state,t=e.spell,n=e.error,r=e.loading;return n&&n.message?i.a.createElement("p",null,n.message):i.a.createElement(w.a,{loading:r||!t},t?i.a.createElement(T,null,i.a.createElement(P,{modifier:"split"},i.a.createElement(k.a,null,t.name),i.a.createElement(N,{title:"Page"},t.page),i.a.createElement(z,null,"Level ",t.level)),this.renderSection(this.casting),this.renderSection(this.classes),this.renderSection(this.specs),this.renderSection(this.descriptions),t.higher_level&&this.renderSection(this.higherLevel)):"")},h()(t,[{key:"components",get:function(){var e=this,t=this.state.spell;return t?t.components.map(function(t,n){return i.a.createElement("span",{key:n,className:e.baseClass+"-components"},t)}):null}}]),t}(s.Component);L.propTypes={children:v.a.node,location:v.a.object};var O=L,M=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),t.prototype.render=function(){return i.a.createElement(l.a,null,i.a.createElement(o.a,{title:"Spell"}),i.a.createElement(O,this.props))},t}(s.Component);t.default=M},149:function(e,t,n){"use strict";n.d(t,"b",function(){return u});var r=n(0),a=n.n(r),s=n(4),i=n.n(s),l=n(33),o=n.n(l);n.d(t,"a",function(){return o.a});n(150);var c=a.a.createContext({}),u=function(e){return a.a.createElement(c.Consumer,null,function(t){return e.data||t[e.query]&&t[e.query].data?(e.render||e.children)(e.data?e.data.data:t[e.query].data):a.a.createElement("div",null,"Loading (StaticQuery)")})};u.propTypes={data:i.a.object,query:i.a.string.isRequired,render:i.a.func,children:i.a.func}},150:function(e,t,n){var r;e.exports=(r=n(152))&&r.default||r},151:function(e){e.exports={data:{site:{siteMetadata:{title:"Grimoire",apiBase:"http://dnd5eapi.co/api",apiSpells:"/spells",apiSpellId:"/spell/:id"}}}}},152:function(e,t,n){"use strict";n.r(t);n(34);var r=n(0),a=n.n(r),s=n(4),i=n.n(s),l=n(55),o=n(2),c=function(e){var t=e.location,n=o.default.getResourcesForPathnameSync(t.pathname);return n?a.a.createElement(l.a,Object.assign({location:t,pageResources:n},n.json)):null};c.propTypes={location:i.a.shape({pathname:i.a.string.isRequired}).isRequired},t.default=c},153:function(e,t,n){"use strict";var r=n(154),a=n(0),s=n.n(a),i=n(4),l=n.n(i),o=n(164),c=n.n(o);function u(e){var t=e.description,n=e.lang,a=e.meta,i=e.keywords,l=e.title,o=r.data.site,u=t||o.siteMetadata.description;return s.a.createElement(c.a,{htmlAttributes:{lang:n},title:l,titleTemplate:"%s | "+o.siteMetadata.title,meta:[{name:"description",content:u},{property:"og:title",content:l},{property:"og:description",content:u},{property:"og:type",content:"website"},{name:"twitter:card",content:"summary"},{name:"twitter:creator",content:o.siteMetadata.author},{name:"twitter:title",content:l},{name:"twitter:description",content:u}].concat(i.length>0?{name:"keywords",content:i.join(", ")}:[]).concat(a)})}u.defaultProps={lang:"en",meta:[],keywords:[],description:""},u.propTypes={description:l.a.string,lang:l.a.string,meta:l.a.arrayOf(l.a.object),keywords:l.a.arrayOf(l.a.string),title:l.a.string.isRequired},t.a=u},154:function(e){e.exports={data:{site:{siteMetadata:{title:"Grimoire",description:"A PWA for D&D 5th Edition Spells.",author:"@gatsbyjs"}}}}},156:function(e,t,n){"use strict";n(34);var r=n(7),a=n.n(r),s=n(151),i=n(0),l=n.n(i),o=n(4),c=n.n(o),u=n(149),p=function(e){function t(t){var n;return(n=e.call(this,t)||this).baseClass="gr-header",n}return a()(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.siteTitle;return l.a.createElement("header",{className:this.baseClass},l.a.createElement("div",{className:this.baseClass+"-container"},l.a.createElement("h1",{style:{margin:0}},l.a.createElement(u.a,{to:"/",style:{color:"white",textDecoration:"none"}},n)),t))},t}(i.Component);p.propTypes={children:c.a.node,baseClass:c.a.string,siteTitle:c.a.string},p.defaultProps={siteTitle:""};var d=p,m=function(e){function t(t){var n;return(n=e.call(this,t)||this).baseClass="gr-footer",n}return a()(t,e),t.prototype.render=function(){return l.a.createElement("footer",{className:this.baseClass},l.a.createElement("div",{className:this.baseClass+"-container"},"Â© ",(new Date).getFullYear()))},t}(i.Component);m.propTypes={children:c.a.node,siteTitle:c.a.string},m.defaultProps={siteTitle:""};var h=m,f=(n(163),function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),t.prototype.render=function(){var e=this.props,t=e.data,n=e.children,r={spells:""+t.apiBase+t.apiSpells,spellId:""+t.apiBase+t.apiSpellId};return l.a.createElement(i.Fragment,null,l.a.createElement(d,{siteTitle:t.title}),l.a.createElement("div",{className:"gr-layout"},l.a.createElement("main",null,l.a.Children.map(n,function(e){return l.a.cloneElement(e,Object.assign({},e.props,{data:t,api:r}))}))),l.a.createElement(h,null))},t}(l.a.Component));f.propTypes={children:c.a.node.isRequired};t.a=function(e){return l.a.createElement(u.b,{query:"683922405",render:function(t){return l.a.createElement(f,Object.assign({data:t.site.siteMetadata},e))},data:s})}},159:function(e,t,n){"use strict";var r=n(7),a=n.n(r),s=n(0),i=n.n(s),l=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),t.prototype.render=function(){var e=this.props,t=e.baseClass,n=e.children,r=e.element;return i.a.createElement(r,{className:t},n)},t}(s.Component);l.defaultProps={baseClass:"gr-heading",element:"h3"},t.a=l},165:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(157),a=n.n(r),s=(n(155),n(158)),i=n.n(s),l=n(174),o=n.n(l),c=function(){var e=i()(a.a.mark(function e(t,n,r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o()(t).then(function(e){n({body:e.data,status:e.status,loading:!1,error:null})}).catch(function(e){r({body:e.error,status:e.status,loading:!1,error:e})});case 2:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}()},171:function(e,t,n){"use strict";var r=n(7),a=n.n(r),s=n(0),i=n.n(s),l=n(4),o=n.n(l),c=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),t.prototype.render=function(){var e=this.props,t=e.baseClass,n=e.children,r=e.element;return i.a.createElement(r,{className:t},n)},t}(s.Component);c.defaultProps={baseClass:"gr-body-copy",element:"p"};var u=c,p=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),t.prototype.render=function(){var e=this.props,t=e.loading,n=e.children,r=e.error;return r?i.a.createElement(u,null,r.message):t?i.a.createElement("div",{className:"gr-loader"},i.a.createElement("svg",{className:"icon icon-d20",height:"300px",width:"300px",fill:"#000000",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"},i.a.createElement("g",{transform:"translate(0,-952.36216)"},i.a.createElement("path",{d:"m 49.999999,957.36216 -38.971335,22.4997 0,45.00064 1.290604,0.7457 37.680731,21.754 38.971337,-22.4997 0,-45.00064 -38.971337,-22.4997 z m 0,7.5949 15.565861,23.0246 -31.131722,0 15.565861,-23.0246 z m -8.4251,3.2361 -12.799072,18.9318 -9.995787,-5.7706 22.794859,-13.1612 z m 16.851427,0 22.793632,13.1599 -9.994495,5.7706 -12.799137,-18.9305 z m -42.230078,17.6348 9.997014,5.7707 -9.997014,20.55174 0,-26.32244 z m 67.607502,0 0,26.32374 -9.997079,-20.55304 9.995787,-5.7707 z m -49.759442,7.32 31.911382,0 -15.955691,27.63694 -15.955691,-27.63694 z m -4.280633,2.9219 15.567089,26.96074 -27.722796,-1.9681 12.155707,-24.99264 z m 40.472648,0 12.156935,24.99264 -27.722732,1.9681 15.565797,-26.96074 z m -45.617559,30.67114 22.797443,1.6199 0,11.5426 -22.797443,-13.1625 z m 50.763697,0 -22.79867,13.1625 0,-11.5426 22.79867,-1.6199 z"})))):n},t}(s.Component);p.propTypes={children:o.a.node.isRequired,loading:o.a.bool,error:o.a.object},p.defaultProps={baseClass:"gr-loader"};t.a=p}}]);
//# sourceMappingURL=component---src-pages-spell-js-b3192a7773744b13f44b.js.map